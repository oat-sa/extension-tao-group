{"version":3,"mappings":"AAqBAA,mDACA,aAEA,OACA,CACA,GCNAA,mJACA,aAQA,uCAKA,OAYAC,oBAEA,iBACAC,uEACAC,qDACAC,eACA,EAIA,MAFAC,yCAEA,+BACAC,aACAC,sDACAC,cACAC,YACAC,eACA,GACAC,qBACAC,cACA,GACAC,iBACAC,mDACA,EACA,EACA,EAQAC,iBAEA,qCAEA,iCACAD,wDAGAR,cACAC,iDACAC,cACAC,eACAC,eACA,GACAC,wBACAC,iBACA,GACAC,iBACAC,+CACA,EACA,CACA,CACA,CACA,CACA,GCrGAd","names":["define","addInstance","classUri","id","type","config","coreRequest","url","method","data","dataType","then","resolve","catch","reject","deleteGroup"],"sources":["../controller/routes.js","../provider/group.js","module-create.js"],"sourcesContent":["/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('taoGroups/controller/routes',[],function(){\n    'use strict';\n\n    return {\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017-2019  (original work) Open Assessment Technologies SA;\n *\n * @author Alexander Zagovorichev <zagovorichev@1pt.com>\n */\n\ndefine('taoGroups/provider/group',['jquery', 'lodash', 'i18n', 'util/url', 'core/promise', 'core/request'], function ($, _, __, urlUtil, Promise, coreRequest) {\n    'use strict';\n\n    /**\n     * Creates a group provider\n     *\n     * @typedef {Object} groupProvider\n     * @type {{addInstance: groupProvider.addInstance}}\n     */\n    return function groupProviderFactory () {\n\n        /**\n         * @returns {groupProvider}\n         */\n        return {\n\n            /**\n             * Create new group\n             *\n             * @param config\n             * @param {String} [config.classUri] - rdf uri of the Group for current environment\n             * @param {String} [config.id] - id of the Group for current environment\n             * @param {String} [config.signature] - id signature received from BE, required\n             * @param {String} [config.type] - Type of the instance\n             * @return {*}\n             */\n            addInstance (config) {\n\n                const _defaults = {\n                    classUri: 'http_2_www_0_tao_0_lu_1_Ontologies_1_TAOGroup_0_rdf_3_Group',\n                    id: 'http://www.tao.lu/Ontologies/TAOGroup.rdf#Group',\n                    type: 'instance'\n                };\n\n                config = _.defaults(config || {}, _defaults);\n\n                return new Promise((resolve, reject) => {\n                        coreRequest({\n                            url: urlUtil.route('addInstance', 'Groups', 'taoGroups'),\n                            method: 'POST',\n                            data: config,\n                            dataType: 'json',\n                        })\n                        .then(function (group) {\n                            resolve(group);\n                        })\n                        .catch(function () {\n                            reject(new Error(__('Unable to create new group')));\n                        });\n                });\n            },\n\n            /**\n             * Group deleting\n             *\n             * @param uri\n             * @return {*}\n             */\n            deleteGroup (uri) {\n\n                return new Promise((resolve, reject) => {\n\n                    if (!_.isString(uri) || _.isEmpty(uri)) {\n                        return reject(new TypeError(__('Group uri is not valid')));\n                    }\n\n                    coreRequest({\n                        url: urlUtil.route('delete', 'Groups', 'taoGroups'),\n                        method: 'POST',\n                        data: {uri: uri},\n                        dataType: 'json',\n                    })\n                    .then(function (response) {\n                        resolve(response);\n                    })\n                    .catch(function () {\n                        reject(new Error(__('Unable to delete group')));\n                    });\n                });\n            }\n        };\n    };\n});\n\n","\ndefine(\"taoGroups/loader/taoGroups.bundle\", function(){});\n"]}